<!DOCTYPE html>
<html>
 <head>
 <meta charset=utf-8>
 <title>Dance Studio</title>
 <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
 <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
 <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.css') }}">
 <link rel="shortcut icon" type="image/png" href="static/files/dancer.png"/>
 <script type="text/javascript"
      src="https://kit.fontawesome.com/79de6bbc8d.js" crossorigin="anonymous"></script>
 </head>
 <body ontouchstart="" style="margin: 0; color: white; background-color: #454ADE;">
   <div class="container main" style="max-width: 2600px;">
     <div class="row">
       <div class="col-renderer">
         <div class="row" style="justify-content: space-between;">
           <div class="col-4">
             <p style="margin-top: 5px; margin-left: 10px; position: absolute;" id="keyFrames"></p>
           </div>
           <div class="col-4" style="justify-content: center;">
             <p class="title">Dance Studio</p>
           </div>
           <div class="col-4" style="justify-content: flex-end; align-items: flex-end;">
             <p style="margin-top: 5px; align-self: flex-end; position: absolute; text-align:right;" id="Time" class="time"></p>
           </div>
         </div>
         <canvas id="renderer">
         </canvas>
       </div>
       <div class="col-special">
         <div class="topBar">
           <div class="row">
             <div class="col-3 launchModal">
               <img src="{{avatar_url}}" style="width: 32px; height: 32px; margin-top: 4px; margin-left: 4px;"></img>
             </div>
             <div class="col-7 launchModal">
               <p style="align-self: right; text-align: left; color: black;">Welcome, {{name}}!</p>
             </div>
             <div class="col-2">
               <a href="/logout"><i class="fas fa-power-off" style="color: blue; margin-right: 10px;"></i></a>
             </div>
           </div>
         </div>


        <!-- Modal -->
        <div class="modal fade" id="dancesModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
          <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" style="color: black;" id="exampleModalLabel">Welcome, {{name}}!</h5>
                <button type="button" class="close" id="closeModalButton" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div id="modal-body" class="modal-body">
              </div>
              <div id="modal-footer" class="modal-footer">
              </div>
            </div>
          </div>
        </div>


        <div class="row ml-1 mt-2">
          <input type="text" style="color: black;" id="dance_name" value="Dance Name">
        </div>
        <div class="row ml-1 mt-2">
          <canvas id="0">
           </canvas>
        </div>
        <div class="row ml-1 mt-1">
          <div class="col-6" style="padding-left: 0">
            <button class="btn btn-outline-light" id="addDancer">Add Dancer</button>
          </div>
          <div class="col-6">
            <p id="savedStatus"></p>
          </div>
        </div>
         <!-- <div class="row ml-1 mt-1">
           <button class="btn btn-outline-danger" id="video">Export</button>
         </div> -->
         <div class="row ml-1 mt-1" style="align-self: flex-end; align-items: flex-end;">
           <div class="bottomBar" id="bottomBar">
            <div id="waveform">
                <label class="btn btn-outline-warning btn-file">
                    Upload music <input type="file" id="fileinput" style="display: none;">
                </label>
                <p id="audioFileName"></p>
            </div>

            <div class="row" style="justify-content: center;">
              <div class="col-4">
                <button class="playButton" style="width:50px; color: white;" id="play"><i class="fas fa-play" id="playIcon"></i></button>
              </div>
              <div class="col-4">
                <button class="playButton" style="width: 50px; color: white;" id="undo"><i class="fas fa-undo"></i></button>
              </div>
              <div class="col-4">
                <button class="playButton" style="width: 50px; color: white;" id="delete"><i class="fas fa-trash"></i></button>
              </div>
            </div>

            <div class="row">
              <div class="col-12">
                <input data-action="zoom" id="playbackSlider" type="range" min="0" max="500" step="5" value="100" />
                <div class="col-6">
                  <div style="overflow: hidden;">
                    <p style="float: left;">Playback:</p>
                    <p style="float: right;" id="playbackSpeed">1x</p>
                  </div>
                </div>
                <input type="checkbox" id="showCurves" name="showCurves"> Edit Paths
              </div>
              <div class="col-8">
                <div style="overflow: hidden;">
                  <p style="float: left;">Zoom:</p>
                  <input style="float: right;" data-action="zoom" id="zoomSlider" type="range" min="0" max="200" value="100" />
                </div>
              </div>
            </div>

           </div>
         </div>
       </div>

     <div class="danceBtn" style="visible: hidden; position: absolute;">
     </div>

     <div class="row timelineBar" style="margin-left: 0px;">
       <div id="timelineEditor">
     </div>

   </div>
 </div>

   <script type="text/javascript"
        src="{{ url_for('static', filename='js/three.js') }}"></script>
   <script type="text/javascript"
        src="{{ url_for('static', filename='js/OrbitControls.js') }}"></script>
   <script type="module"
        src="{{ url_for('static', filename='js/Dancer.js') }}"></script>
   <script type="text/javascript"
        src="{{ url_for('static', filename='js/THREE.MeshLine.js') }}"></script>
   <script type="text/javascript"
        src="{{ url_for('static', filename='js/jscolor.js') }}"></script>
   <script type="text/javascript"
        src="{{ url_for('static', filename='js/signals.min.js') }}"></script>
   <script type="text/javascript"
        src="{{ url_for('static', filename='js/ui.js') }}"></script>
   <script type="text/javascript"
        src="{{ url_for('static', filename='js/TimelineEditor.js') }}"></script>
   <script type="text/javascript" src="https://unpkg.com/wavesurfer.js"></script>
   <script type="text/javascript"
        src="{{ url_for('static', filename='js/jquery-3.2.1.min.js') }}"></script>
   <script type="text/javascript"
        src="{{ url_for('static', filename='js/bootstrap.js') }}"></script>
 </body>
</html>
